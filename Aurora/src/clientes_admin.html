<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aurora | Clientes</title>
  <link rel="stylesheet" href="../Public/Css/style.css" />
</head>

<body>
  <div class="admin-layout">
    <!-- Sidebar (no lo toco) -->
    <aside class="admin-sidebar" id="adminSidebar">
      <div class="brand">
        <span class="brand-dot"></span><span>AURORA</span>
      </div>

      <nav class="menu">
        <a class="menu-link" href="./main_menu.html">Panel</a>
        <a class="menu-link" href="./pedidos.html">Pedidos</a>
        <a class="menu-link" href="../src/Productos_admin.html">Productos</a>
        <a class="menu-link active" href="./clientes_admin.html">Clientes</a>
        <a class="menu-link" href="../src/reportes_admin.html">Reportes</a>
        <div class="menu-sep"></div>
        <a class="menu-link" href="./config_admin.html">Configuración</a>
        <a class="menu-link" href="/src/login.html">Salir</a>
        <a class="menu-link" href="http://localhost:5000/">CRUD</a>
        <a class="menu-link icon-reportes" href="../src/main.html">Volver al Inicio</a>
      </nav>
    </aside>

  <main class="admin-main">
  <header class="admin-topbar">
    <button class="sidebar-toggle" id="sidebarToggle">☰</button>


    <div class="admin-actions">
      <input class="admin-search" type="search" id="clientes-search"
             placeholder="Buscar por nombre o email…" />
      <div class="admin-user"><span class="user-dot"></span><span>Admin</span></div>
    </div>
  </header>

  <!-- Tabla de clientes -->
  <section class="admin-section">
    <h2>Clientes </h2>
    
    <div class="table-wrap" style="margin-top: 10px;">
      <table class="admin-table">
        <thead id="clientes-page-thead"></thead>
        <tbody id="clientes-page-tbody">
          <tr>
            <td colspan="3" class="no-data">Cargando clientes...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</main>
<!-- Modal detalle cliente -->
<div class="modal-overlay" id="clientes-detail-modal">
  <div class="modal-content" style="max-width: 1000px; height: 90vh;">
    <div class="modal-header">
      <h2>Historial de: <span id="detalle-cliente-nombre-modal">...</span></h2>
      <button class="modal-close" id="clientes-detail-close-btn">&times;</button>
    </div>
    <div class="modal-body" style="overflow-y: auto;">
      <div class="pedido-detail-section">
        <h4>Datos del Cliente</h4>
        <p><strong>Nombre:</strong> <span id="detalle-cliente-nombre-2">...</span></p>
        <p><strong>Email:</strong> <span id="detalle-cliente-email-2">...</span></p>
        <p><strong>Dirección:</strong> <span id="detalle-cliente-direccion-2">...</span></p>
      </div>
      <div class="pedido-detail-section">
        <h4>Historial de Pedidos (<span id="detalle-cliente-total-pedidos">0</span>)</h4>
        <div class="table-wrap" style="max-height: 400px; overflow-y: auto;">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID Pedido</th>
                <th>Fecha</th>
                <th>Sucursal</th>
                <th>Productos (preview)</th>
                <th>Total</th>
                <th>Ver</th>
                
              </tr>
            </thead>
            <tbody id="cliente-pedidos-tbody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal: Detalle del Pedido del Cliente (solo datos del pedido) -->
<div class="modal-overlay" id="cliente-pedido-detail-modal">
  <div class="modal-content" style="max-width: 900px; height: 90vh;">
    <div class="modal-header">
      <h2>Detalle del Pedido: #<span id="cliente-detalle-pedido-id">...</span></h2>
      <button class="modal-close" id="cliente-pedido-detail-close-btn">&times;</button>
    </div>

    <div class="modal-body" style="overflow-y: auto;">

      <!-- DATOS DEL PEDIDO -->
      <div class="pedido-detail-grid">
        <div class="pedido-detail-section">
          <h4>Datos del Pedido</h4>
          <p><strong>ID Pedido:</strong> <span id="cliente-detalle-pedido-id-2">...</span></p>
          <p><strong>Fecha:</strong> <span id="cliente-detalle-pedido-fecha">...</span></p>
          <p><strong>Total Pagado:</strong> <span id="cliente-detalle-pedido-total">...</span></p>
          <p><strong>Método Pago:</strong> <span id="cliente-detalle-pedido-metodo">...</span></p>
          <p><strong>Estado:</strong> <span id="cliente-detalle-pedido-estado">...</span></p>
          <p><strong>ID Transacción:</strong> <span id="cliente-detalle-pedido-transaccion">...</span></p>
        </div>
      </div>

      <!-- ITEMS COMPRADOS -->
      <div class="pedido-detail-section">
        <h4>Items Comprados</h4>
        <div class="table-wrap">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Foto</th>
                <th>Producto</th>
                <th>SKU</th>
                <th>Talla</th>
                <th>Color</th>
                <th>Cantidad</th>
                <th>Precio Unit.</th>
              </tr>
            </thead>
            <tbody id="cliente-detalle-items-tbody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>







  <script type="module" src="../Public/js/clientes_panel.js"></script>
    <script type="module" src="../Public/js/colores.js"></script>
  <script type="module" src="../Public/js/geolocation.js"></script>

  
</body>
</html>

