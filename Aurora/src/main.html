<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aurora | Moda Elegante</title>
  <link rel="stylesheet" href="/Public/Css/style.css"/>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container">
      <div class="header-content">
          <a href="/src/main.html" class="logo">AURORA</a>


        <ul class="nav-links">
          <li><a href="/src/colecciones.html">Colecciones</a></li>
          <li><a href="/src/productos.html">Productos</a></li>
          <li><a href="/src/ofertas.html">Ofertas</a></li>
          
        </ul>

        <div class="header-actions">
            <div class="header-actions">
            <div class="header-actions">
            <a href="./carrito.html" class="icon-btn icon-cart" aria-label="Carrito"></a>
            <a href="../src/login.html" class="icon-btn icon-login" aria-label="Login"></a>
        </div>

      </div>
          <li id="admin-menu-btn" style="display:none;">
            <a href="../src/main_menu.html">Admin</a>
          </li>

        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="hero" id="inicio">
      <div class="container">
        <div class="hero-content">
          <h1>AURORA</h1>
          <p>Descubre la nueva dimensión de la moda elegante</p>
          <a href="/src/colecciones.html" class="btn">Explorar Colección</a>
        </div>
      </div>
    </section>

    <!-- Colecciones -->
    <section id="colecciones">
      <div class="container">
        <div class="section-title">
          <h2>Colecciones Aurora</h2>
          <p>Nuestras últimas colecciones diseñadas para inspirar y empoderar</p>
        </div>

        <div class="colecciones-grid">
          <div class="coleccion-card">
            <div class="coleccion-overlay">
              <h3>Primavera</h3>
              <p>Tonos suaves y diseños fluidos</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
<!-- Botón flotante -->
<button id="chat-open" class="chat-fab" aria-label="Abrir chat">
  <img src="/Public/imagenes/Carinabot.png" alt="">
</button>

<div id="chat-panel" class="chat-panel" hidden>
  <header class="chat-header">
    <strong>Asistente Aurora</strong>
    <button id="chat-close" class="chat-close" aria-label="Cerrar">✕</button>
  </header>

  <div id="chat-log" class="chat-log" aria-live="polite"></div>

  <form id="chat-form" class="chat-form" autocomplete="off">
    <input id="chat-input" type="text" placeholder="En que te podemos ayudar...." required />
    <button class="chat-send" type="submit">Enviar</button>
  </form>
</div>



  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <nav class="footer-top">
        <ul class="footer-menu">
          <li><a href="./sobre_nosotros.html">Sobre Nosotros</a></li>
          <li><a href="./envios.html">Envíos</a></li>
          <li><a href="./cambios_devoluciones.html">Cambios y Devoluciones</a></li>
          <li><a href="./contacto.html">Contacto</a></li>
          <li><a href="./sucursales.html">Sucursales</a></li>
        </ul>
      </nav>


    </div>

    <div class="footer-divider"></div>

    <div class="container">
      <div class="footer-bottom">
        <p>© 2025, Aurora-chile· Moda y Belleza</p>
      </div>
    </div>
  </footer>
  <script type="module" src="../Public/js/colores.js"></script>

<script>
  (async function checkUserRole() {
    try {
      // IMPORTANTE: usa el mismo host que usaste para iniciar sesión.
      // Lo más simple es usar 127.0.0.1 en ambos (frontend y backend).
      const res = await fetch("http://127.0.0.1:5000/api/session_info", {
        credentials: "include" // envía la cookie de sesión
      });

      if (!res.ok) {
        console.error("Fallo consultando sesión:", res.status, await res.text());
        return;
      }

      const data = await res.json();
      console.log("session_info:", data); // <-- déjalo mientras pruebas

      if (data.logged_in && (data.rol === "admin" || data.rol === "soporte")) {
        const btn = document.getElementById("admin-menu-btn");
        if (btn) btn.style.display = "block";
      }
    } catch (err) {
      console.error("Error verificando sesión:", err);
    }
  })();
</script>


</body>

</html>
